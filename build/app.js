!function(e){function t(t){for(var i,h,r=t[0],n=t[1],l=t[2],m=0,c=[];m<r.length;m++)h=r[m],Object.prototype.hasOwnProperty.call(a,h)&&a[h]&&c.push(a[h][0]),a[h]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);for(d&&d(t);c.length;)c.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,r=1;r<s.length;r++){var n=s[r];0!==a[n]&&(i=!1)}i&&(o.splice(t--,1),e=h(h.s=s[0]))}return e}var i={},a={0:0},o=[];function h(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,h),s.l=!0,s.exports}h.m=e,h.c=i,h.d=function(e,t,s){h.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.t=function(e,t){if(1&t&&(e=h(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(h.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)h.d(s,i,function(t){return e[t]}.bind(null,i));return s},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="";var r=window.webpackJsonp=window.webpackJsonp||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=n;o.push([1,1]),s()}([,function(e,t,s){"use strict";s.r(t);var i=s(0),a=s.n(i);class o extends a.a.Scene{constructor(){super("PlayScene"),this.lives=1}create(){const{height:e,width:t}=this.game.config;this.gameSpeed=10,this.isGameRunning=!1,this.respawnTime=0,this.score=0,this.bonusRespawnTime=0,this.livesText=this.add.text(0,0,"Lives: "+this.lives,{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(0,0).setAlpha(1),this.bonuses=this.physics.add.group(),this.music=this.sound.add("music",{volume:.4,loop:!0}),this.hitSound=this.sound.add("hit",{volume:.2}),this.reachSound=this.sound.add("reach",{volume:.2}),this.startTrigger=this.physics.add.sprite(0,10).setOrigin(0,1).setImmovable(),this.ground=this.add.tileSprite(0,e,88,26,"ground").setOrigin(0,.5),this.mario=this.physics.add.sprite(0,e,"mario-idle").setCollideWorldBounds(!0).setGravityY(5e3).setBodySize(44,92).setDepth(1).setOrigin(0,1),this.scoreText=this.add.text(t,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0),this.highScoreText=this.add.text(0,0,"00000",{fill:"#535353",font:"900 35px Courier",resolution:5}).setOrigin(1,0).setAlpha(0),this.environment=this.add.group();const s=()=>{const s=a.a.Math.Between(10,t),i=a.a.Math.Between(15,e/2);return this.add.image(s,i,"cloud")};for(let e=0;e<15;e++)this.environment.add(s());this.environment.setAlpha(0),this.gameOverScreen=this.add.container(t/2,e/2-50).setAlpha(0),this.gameOverText=this.add.image(0,0,"game-over"),this.restart=this.add.image(0,80,"restart").setInteractive(),this.gameOverScreen.add([this.gameOverText,this.restart]),this.obsticles=this.physics.add.group(),this.initAnims(),this.initStartTrigger(),this.initColliders(),this.handleInputs(),this.handleScore()}initColliders(){this.canCollide=!0,this.physics.add.collider(this.mario,this.obsticles,(()=>{if(this.canCollide)if(this.canCollide=!1,this.lives--,this.lives>0)this.livesText.setText("Lives: "+this.lives),this.mario.setTint(16711680),this.time.delayedCall(1e3,(()=>{this.mario.clearTint(),this.canCollide=!0}),[],this);else{this.lives=0,this.livesText.setText("Lives: "+this.lives),this.highScoreText.x=this.scoreText.x-this.scoreText.width-20;const e=this.highScoreText.text.substr(this.highScoreText.text.length-5),t=Number(this.scoreText.text)>Number(e)?this.scoreText.text:e;this.highScoreText.setText("HI "+t),this.highScoreText.setAlpha(1),this.physics.pause(),this.isGameRunning=!1,this.anims.pauseAll(),this.mario.setTexture("mario-hurt"),this.respawnTime=0,this.gameSpeed=10,this.gameOverScreen.setAlpha(1),this.score=0,this.hitSound.play(),this.music.stop()}}),null,this),this.physics.add.overlap(this.mario,this.bonuses,((e,t)=>{this.lives++,this.livesText.setText("Lives: "+this.lives),this.reachSound.play(),t.disableBody(!0,!0)}),null,this)}initStartTrigger(){const{width:e,height:t}=this.game.config;this.physics.add.overlap(this.startTrigger,this.mario,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,t);this.startTrigger.disableBody(!0,!0);const s=this.time.addEvent({delay:1e3/60,loop:!0,callbackScope:this,callback:()=>{this.mario.setVelocityX(80),this.mario.play("mario-run",1),this.ground.width<e&&(this.ground.width+=34),this.ground.width>=1e3&&(this.ground.width=e,this.isGameRunning=!0,this.mario.setVelocityX(0),this.scoreText.setAlpha(1),this.environment.setAlpha(1),s.remove()),this.music.play()}})}),null,this)}initAnims(){this.anims.create({key:"mario-run",frames:this.anims.generateFrameNumbers("mario",{start:2,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"mario-down-anim",frames:this.anims.generateFrameNumbers("mario-down",{start:0,end:1}),frameRate:10,repeat:-1}),this.anims.create({key:"enemy-mario-fly",frames:this.anims.generateFrameNumbers("enemy-bill",{start:0,end:1}),frameRate:6,repeat:-1})}handleScore(){this.time.addEvent({delay:100,loop:!0,callbackScope:this,callback:()=>{if(!this.isGameRunning)return;this.score++,this.gameSpeed+=.01,this.score%100==0&&(this.reachSound.play(),this.tweens.add({targets:this.scoreText,duration:100,repeat:3,alpha:0,yoyo:!0}));const e=Array.from(String(this.score),Number);for(let t=0;t<5-String(this.score).length;t++)e.unshift(0);this.scoreText.setText(e.join(""))}})}handleInputs(){this.restart.on("pointerdown",(()=>{this.lives=1,this.livesText.setText("Lives: "+this.lives),this.scoreText.setText("00000"),this.canCollide=!0,this.mario.setVelocityY(0),this.mario.body.height=92,this.mario.body.offset.y=0,this.physics.resume(),this.obsticles.clear(!0,!0),this.isGameRunning=!0,this.gameOverScreen.setAlpha(0),this.anims.resumeAll(),this.music.play()}));const e=["jump","jump2"];this.input.keyboard.on("keydown_SPACE",(()=>{if(!this.mario.body.onFloor()||this.mario.body.velocity.x>0)return;const t=e[Math.floor(Math.random()*e.length)];this.sound.play(t,{volume:.2}),this.mario.body.height=92,this.mario.body.offset.y=0,this.mario.setVelocityY(-1600),this.mario.setTexture("mario-jump",0)})),this.input.keyboard.on("keydown_DOWN",(()=>{this.mario.body.onFloor()&&this.isGameRunning&&(this.mario.body.height=58,this.mario.body.offset.y=34)})),this.input.keyboard.on("keyup_DOWN",(()=>{(0===this.score||this.isGameRunning)&&(this.mario.body.height=92,this.mario.body.offset.y=0)}))}placeObsticle(){const e=Math.floor(8*Math.random())+1,t=a.a.Math.Between(600,900);let s;if(console.log(e),7==e){const e=[20,50];s=this.obsticles.create(this.game.config.width+t,this.game.config.height-e[Math.floor(2*Math.random())],"enemy-bill").setOrigin(0,1),s.play("enemy-mario-fly",1),s.body.height=s.body.height/1.5}else 8==e?s=this.obsticles.create(this.game.config.width+t,this.game.config.height-50,"tuyau").setOrigin(0,2):(s=this.obsticles.create(this.game.config.width+t,this.game.config.height,"obsticle-"+e).setOrigin(0,1),s.body.offset.y=10);s.setImmovable()}spawnBonus(){const e=this.bonuses.create(this.game.config.width+a.a.Math.Between(800,1500),this.game.config.height-a.a.Math.Between(100,300),"bonus");e.setOrigin(0,1),e.setImmovable()}update(e,t){this.isGameRunning&&(this.ground.tilePositionX+=this.gameSpeed,a.a.Actions.IncX(this.obsticles.getChildren(),-this.gameSpeed),a.a.Actions.IncX(this.environment.getChildren(),-.5),this.respawnTime+=t*this.gameSpeed*.08,this.respawnTime>=1500&&(this.placeObsticle(),this.respawnTime=0),this.obsticles.getChildren().forEach((e=>{e.getBounds().right<0&&this.obsticles.killAndHide(e)})),this.environment.getChildren().forEach((e=>{e.getBounds().right<0&&(e.x=this.game.config.width+30)})),this.mario.body.deltaAbsY()>0?(this.mario.anims.stop(),this.mario.setTexture("mario-jump",0)):this.mario.body.height<=58?this.mario.play("mario-down-anim",!0):this.mario.play("mario-run",!0),this.bonusRespawnTime+=t*this.gameSpeed*.08,this.bonusRespawnTime>=15e3&&(this.spawnBonus(),this.bonusRespawnTime=0),a.a.Actions.IncX(this.bonuses.getChildren(),-this.gameSpeed),this.bonuses.getChildren().forEach((e=>{e.getBounds().right<0&&this.bonuses.killAndHide(e)})))}}var h=o;class r extends a.a.Scene{constructor(){super("PreloadScene")}preload(){this.load.audio("music","assets/sounds/music.m4a"),this.load.audio("jump","assets/sounds/jump.m4a"),this.load.audio("jump2","assets/sounds/jump2.m4a"),this.load.audio("hit","assets/sounds/hit.m4a"),this.load.audio("reach","assets/sounds/reach.m4a"),this.load.audio("coin","assets/sounds/coin.m4a"),this.load.audio("powerup","assets/sounds/powerup.m4a"),this.load.image("mario-idle","assets/mario-idle.png"),this.load.image("mario-hurt","assets/mario-hurt.png"),this.load.image("mario-jump","assets/mario-jump.png"),this.load.image("ground","assets/ground.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png"),this.load.image("cloud","assets/cloud.png"),this.load.image("moon","assets/moon.png"),this.load.image("bonus","assets/bonus_life.png"),this.load.spritesheet("star","assets/stars.png",{frameWidth:9,frameHeight:9}),this.load.spritesheet("mario","assets/mario-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("mario-down","assets/mario-down.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bill","assets/enemy-bill.png",{frameWidth:92,frameHeight:77}),this.load.image("obsticle-1","assets/enemy_small_1.png"),this.load.image("obsticle-2","assets/enemy_small_2.png"),this.load.image("obsticle-3","assets/enemy_small_3.png"),this.load.image("obsticle-4","assets/enemy_big_1.png"),this.load.image("obsticle-5","assets/enemy_big_2.png"),this.load.image("obsticle-6","assets/enemy_big_3.png"),this.load.image("tuyau","assets/tuyau.png")}create(){this.scene.start("PlayScene")}}var n=r;const l={type:a.a.AUTO,width:screen.width-200,height:340,pixelArt:!0,transparent:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[n,h]};new a.a.Game(l)}]);