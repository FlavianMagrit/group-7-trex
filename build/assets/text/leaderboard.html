<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      @import url("https://fonts.cdnfonts.com/css/new-super-mario-font-u");

      * {
        font-family: "New Super Mario Font U", sans-serif;
        color: whitesmoke;
      }

      h1 {
        font-size: 1.875rem;
        line-height: 2.25rem;
      }

      p {
        font-size: 1.25rem;
        line-height: 0.5rem;
      }

      .green {
        color: green;
      }

      .red {
        color: red;
      }

      .orange {
        color: orange;
      }

      .blue {
        color: lightblue;
      }

      .gray {
        color: gray;
      }

      .flex-row {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .icns {
        height: 90px;
      }

      button {
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 90px;
        height: 90px;
      }

      .buttonImg {
        height: 50px;
      }

      .hwg {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 5rem;
        gap: 1rem;
      }

      body {
        padding: 100px;
        background: linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75)),
          url("../assets/background-instruction.png");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
      }
    </style>
    <title>Leaderboard</title>
  </head>
  <body>
    <h1>Leaderboard</h1>
    <table>
      <tr>
        <th>Position</th>
        <th>Player Name</th>
        <th>Score</th>
      </tr>
    </table>

    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAWaR74CQIpQC3EZ4ANtRDkhqbSaV_IsVI",
        authDomain: "t-rex-7a5e1.firebaseapp.com",
        projectId: "t-rex-7a5e1",
        storageBucket: "t-rex-7a5e1.appspot.com",
        messagingSenderId: "45729220216",
        appId: "1:45729220216:web:9f235bdf8bf6ff272dcf8d",
        measurementId: "G-XYMRDDVWMV",
      };
      firebase.initializeApp(firebaseConfig);

      const db = firebase.firestore();

      db.collection("scores")
        .orderBy("score", "desc")
        .limit(10)
        .get()
        .then((querySnapshot) => {
          const leaderboardTable = document.querySelector("table");
          let position = 1;
          querySnapshot.forEach((doc) => {
            const data = doc.data();
            const row = leaderboardTable.insertRow(-1);
            const positionCell = row.insertCell(0);
            const nameCell = row.insertCell(1);
            const scoreCell = row.insertCell(2);
            positionCell.textContent = position;
            nameCell.textContent = data.name;
            scoreCell.textContent = data.score;
            position++;
          });
        })
        .catch((error) => {
          console.error("Erreur lors de la récupération des scores : ", error);
        });
    </script>
  </body>
</html>
